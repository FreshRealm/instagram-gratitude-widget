!function(){"use strict";function a(a,b,c,d,e){a.instagramClientId(c),a.instagramPostLimit(10),b.setTemplateUrlPrefix(d),b.setImageUrlPrefix(e)}angular.module("frGWApp",["freshrealm.instagramGratitudeWidget"]).constant("frInstagramClientId",window.frInstagramClientId).constant("frGWTemplateUrlPrefix",window.frGWTemplateUrlPrefix).constant("frGWImageUrlPrefix",window.frGWImageUrlPrefix).config(a),a.$inject=["frInstagramGratitudeFeedProvider","frGratitudeWidgetUrlPrefixesProvider","frInstagramClientId","frGWTemplateUrlPrefix","frGWImageUrlPrefix"]}(),function(){"use strict";function a(){var a=!1,b=30;this.instagramClientId=function(b){a=b},this.instagramPostLimit=function(a){b=a},this.$get=["$http","$q",function(c,d){return new f(a,b,c,d)}]}function b(){var a="/templates/frGratitudeWidget";this.setTemplateUrlPrefix=function(b){b&&(a=b)};var b="/images/frGratitudeWidget";this.setImageUrlPrefix=function(a){a&&(b=a)},this.$get=function(){return{templateUrlPrefix:a,imageUrlPrefix:b}}}function c(a){function b(){function a(){g||(g=!0,$(".gratitude-widget").scroll(function(){$("#gw-title-fixed-to-top-container").toggleClass("hidden",$(window).scrollTop()+15<=$("#gw-title").offset().top),$("#gw-striplet-fixed-to-top").toggleClass("hidden",$(window).scrollTop()+61<=$("#gw-header-striplet").offset().top)}))}function b(){if(/iP(hone|od|ad)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),b=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)];return b[0]>7}return!0}b()&&($("body").on("mouseover",".gratitude-widget",a),$("body").on("touchstart",".gratitude-widget",a))}var c={scope:{},restrict:"E",templateUrl:a.templateUrlPrefix+"/widget.html",controller:d,link:b};return c}function d(a,b,c,d,e){function f(){function b(){a(function(){$("#gw-title-fixed-to-top-container").addClass("hidden"),$("#gw-title-fixed-to-top-container").addClass("hidden"),$("#gw-striplet-fixed-to-top").addClass("hidden"),g=!1})}var f=c.open({templateUrl:e.templateUrlPrefix+"/modal.html",controller:"FrGratitudeWidgetModalCtrl",windowClass:"gratitude-widget",resolve:{posts:function(){return d.getPosts()}}});f.result.then(b,b)}b.imageUrlPrefix=e.imageUrlPrefix,d.getPosts(),b.openModal=f}function e(a,b,c){a.imageUrlPrefix=c.imageUrlPrefix,a.posts=b.data?b.data:[]}function f(a,b,c,d){this.clientId=a,this.postLimit=b,this.$http=c,this.$q=d,this.posts=[],this.deferred=null}angular.module("freshrealm.instagramGratitudeWidget",["ui.bootstrap"]).provider("frInstagramGratitudeFeed",a).provider("frGratitudeWidgetUrlPrefixes",b).directive("frGratitudeWidget",c).controller("FrGratitudeWidgetModalCtrl",e);var g=!1;c.$inject=["frGratitudeWidgetUrlPrefixes"],d.$inject=["$timeout","$scope","$modal","frInstagramGratitudeFeed","frGratitudeWidgetUrlPrefixes"],e.$inject=["$scope","posts","frGratitudeWidgetUrlPrefixes"],f.$inject=["clientId","postLimit","$http","$q"],f.prototype.getPosts=function(){var a=this;return a.posts.data&&a.posts.data.length>0?a.posts:a.deferred?a.deferred.promise:(a.deferred=a.$q.defer(),a.$http.jsonp("https://api.instagram.com/v1/tags/connectedbygratitude/media/recent",{params:{client_id:a.clientId,count:a.postLimit,callback:"JSON_CALLBACK"}}).success(function(b){a.posts=b,a.deferred.resolve(b)}).error(function(b){a.deferred.reject(b)}),a.deferred.promise)}}(),function(a){var b,c={kitId:"mzn7hfo",scriptTimeout:3e3},d=a.documentElement,e=setTimeout(function(){d.className=d.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"},c.scriptTimeout),f=a.createElement("script"),g=!1,h=a.getElementsByTagName("script")[0];d.className+=" wf-loading",f.src="//use.typekit.net/"+c.kitId+".js",f.async=!0,f.onload=f.onreadystatechange=function(){if(b=this.readyState,!(g||b&&"complete"!=b&&"loaded"!=b)){g=!0,clearTimeout(e);try{Typekit.load(c)}catch(a){}}},h.parentNode.insertBefore(f,h)}(document);
//# sourceMappingURL=fr-instagram-gratitude-widget-app.min.js.map